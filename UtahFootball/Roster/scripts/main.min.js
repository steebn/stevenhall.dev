var tblRoster,tblData;function hideLoader(){$("#loaderWrapper").css("display","none"),$("body").css("backgroundColor","white")}async function buildDataTable(){tblData=await fetch("https://api.collegefootballdata.com/roster?team=Utah").then(r=>r.json()).then(d=>d),console.log(tblData),(tblRoster=$("table#tblRoster").DataTable({initComplete:function(){hideLoader();var totRows=this.api().rows()[0].length;this.api().columns(0).every((function(){var column=this,select=$('<select class="custom-select custom-select-sm form-control form-control-sm"><option value="">ALL</option></select>').appendTo($(column.footer()).empty()).on("change",(function(){var val=$.fn.dataTable.util.escapeRegex($(this).val());column.search(val?"^"+val+"$":"",!0,!1).draw()}));let t;"number"===typeof column.data().unique()[0]?column.data().unique().sort((a,b)=>a-b).each((function(d,j){select.append(`<option value="${d}">${d}</option>`)})):column.data().unique().sort().each((function(d,j){d=null===d?"":select.append(`<option value="${d}">${d}</option>`)}))}))},select:!0,dom:"<'row'<'col-sm-4 floatLeft'l><'col-sm-8 floatLeft'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",scrollY:"calc(100vh - 300px)",pageLength:25,scrollCollapse:!0,responsive:!0,language:{search:"&telrec;",searchPlaceholder:"Search All Records"},data:tblData,columns:[{data:"jersey",title:"Jersey #",type:"num-fmt",class:"alignLeft col0"},{data:"last_name",title:"Last",type:"string",class:"alignLeft col1"},{data:"first_name",title:"First",type:"string",class:"alignLeft col2"},{data:"position",title:"Pos",type:"string",class:"alignLeft col3"},{data:"year",title:"Yr",type:"string",class:"alignLeft col4",render:function(data,type,full,meta){let yr;switch(data){case 1:yr="Fr";break;case 2:yr="So";break;case 3:yr="Jr";break;case 4:yr="Sr";break;default:yr=`${data}th yr Sr`}return"display"===type||"filter"===type?yr:data}},{data:"weight",title:"Weight",type:"num-fmt",class:"alignLeft",render:$.fn.dataTable.render.number(",",".",0,""," lbs.")},{data:"height",title:"Height",type:"num-fmt",class:"alignLeft",render:function(data,type,full,meta){let feet=Math.floor(data/12),inch;return"display"===type||"filter"===type?`${feet}' ${data%12}"`:data}},{data:"home_city",title:"City",type:"string",class:"alignLeft"},{data:"home_state",title:"St",type:"string",class:"alignLeft",render:function(data,type,full,meta){return"display"===type&&null!==data?data.trim():data}},{data:"home_country",title:"Cntry",type:"string",class:"alignLeft"}]})).columns().every((function(){var that=this;$("input",this.footer()).on("search keyup",(function(){that.search()!==this.value&&that.search(this.value).draw()}))})),window.addEventListener("resize",tblRoster.draw())}buildDataTable();