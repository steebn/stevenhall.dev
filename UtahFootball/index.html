<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Utah Football</title>
    <!-- <link rel="canonical" href="https://stevenhall.dev/UtahFootball/"/> -->
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles/main.min.css" />
    <script defer type="text/javascript" src="scripts/main.js"></script>

    <meta name="Description" content="Just a project to learn how to create PWAs">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Utah Football">
    <meta name="theme-color" content="#FF0000">
    <meta name="msapplication-navbutton-color" content="#FF0000">
    <meta name="msapplication-starturl" content="/index.html">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Utah Football">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=yes">

    <link rel="icon" sizes="128x128" href="images/touch/icon-128x128.png">
    <link rel="icon" sizes="192x192" href="images/touch/icon-192x192.png">
    <link rel="icon" sizes="256x256" href="images/touch/icon-256x256.png">
    <link rel="icon" sizes="384x384" href="images/touch/icon-384x384.png">
    <link rel="icon" sizes="512x512" href="images/touch/icon-512x512.png">
    <link rel="apple-touch-icon" sizes="128x128" href="images/touch/icon-128x128.png">
    <link rel="apple-touch-icon" sizes="192x192" href="images/touch/icon-192x192.png">
    <link rel="apple-touch-icon" sizes="256x256" href="images/touch/icon-256x256.png">
    <link rel="apple-touch-icon" sizes="384x384" href="images/touch/icon-384x384.png">
    <link rel="apple-touch-icon" sizes="512x512" href="images/touch/icon-512x512.png">

    <script>
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            // Stash the event so it can be triggered later.
            deferredPrompt = e;
            console.log(e);
            let btnAdd = document.querySelector(".btnAdd");
            btnAdd.addEventListener('click', (e) => {
                // hide our user interface that shows our A2HS button
                btnAdd.style.display = 'none';
                // Show the prompt
                deferredPrompt.prompt();
                // Wait for the user to respond to the prompt
                deferredPrompt.userChoice
                    .then((choiceResult) => {
                        if (choiceResult.outcome === 'accepted') {
                            console.log('User accepted the A2HS prompt');
                        } else {
                            console.log('User dismissed the A2HS prompt');
                        }
                        deferredPrompt = null;
                    });
            });
        });
    </script>
</head>

<body>
    <header>
        <button class="btnAdd">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width=25 height=25>
                <path fill="currentColor" d="M452 432c0 11-9 20-20 20s-20-9-20-20 9-20 20-20 20 9 20 20zm-84-20c-11 0-20 9-20 20s9 20 20 20 20-9 20-20-9-20-20-20zm144-48v104c0 24.3-19.7 44-44 44H44c-24.3 0-44-19.7-44-44V364c0-24.3 19.7-44 44-44h99.4L87 263.6c-25.2-25.2-7.3-68.3 28.3-68.3H168V40c0-22.1 17.9-40 40-40h96c22.1 0 40 17.9 40 40v155.3h52.7c35.6 0 53.4 43.1 28.3 68.3L368.6 320H468c24.3 0 44 19.7 44 44zm-261.7 17.7c3.1 3.1 8.2 3.1 11.3 0L402.3 241c5-5 1.5-13.7-5.7-13.7H312V40c0-4.4-3.6-8-8-8h-96c-4.4 0-8 3.6-8 8v187.3h-84.7c-7.1 0-10.7 8.6-5.7 13.7l140.7 140.7zM480 364c0-6.6-5.4-12-12-12H336.6l-52.3 52.3c-15.6 15.6-41 15.6-56.6 0L175.4 352H44c-6.6 0-12 5.4-12 12v104c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12V364z" />
            </svg>
        </button>
        <h2>Utah Football</h2>
    </header>
    <main>
        <a href="/UtahFootball/Roster/index.html">Roster</a>
    </main>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function () {
                navigator.serviceWorker.register('service-worker.js')
                    .then(reg => {
                        console.log('Service worker registered! ðŸ˜Ž', reg);
                    })
                    .catch(err => {
                        console.log('ðŸ˜¥ Service worker registration failed: ', err);
                    });
            });
        }
    </script>
</body>

</html>